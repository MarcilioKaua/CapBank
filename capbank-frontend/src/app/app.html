<div class="app-container">
  <!-- Mobile Header -->
  @if (routeShowSidebar()) { @if (isMobile()) {
  <mat-toolbar class="mobile-header">
    <button mat-icon-button (click)="toggleSidebar()">
      <mat-icon>menu</mat-icon>
    </button>
    <div class="mobile-header__logo">
      <mat-icon>account_balance</mat-icon>
      <span class="font-bold">CAP Bank</span>
    </div>
    <div class="mobile-header__user">
      <mat-icon>person</mat-icon>
      <mat-icon>logout</mat-icon>
    </div>
  </mat-toolbar>
  } @if (!isMobile()) {
  <header class="desktop-header">
    <div class="desktop-header__user">
      <div class="desktop-header__user-info">
        <span class="desktop-header__user-name">{{ userName() }}</span>
      </div>
      <button mat-icon-button (click)="logout()">
        <mat-icon>logout</mat-icon>
      </button>
    </div>
  </header>
  } }

  <!-- Sidebar -->
  @if (routeShowSidebar()) {
  <app-sidebar
    [isMobile]="isMobile()"
    [isOpen]="sidebarOpen()"
    (menuClick)="onMenuClick($event)"
    (close)="closeSidebar()"
  ></app-sidebar>
  }

  <!-- Main Content -->
  <main
    class="main-content"
    [class.main-content--with-sidebar]="!isMobile() && sidebarOpen() && routeShowSidebar()"
    [class.main-content--with-header]="!isCreateAccountPage"
  >
    <router-outlet />
    <app-toast-container></app-toast-container>
  </main>
</div>
